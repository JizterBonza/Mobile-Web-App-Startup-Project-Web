import{r as _,u as y,j as e}from"./app-BOLgj3qB.js";import{A as C}from"./AdminLayout-CG6SnJGX.js";import{A as S}from"./AddressAutocomplete--FpJ21vS.js";function F({auth:b,profileData:s,flash:n}){var o,x,j,u;const[d,c]=_.useState(!1),{data:i,setData:l,put:N,processing:t,errors:r,reset:p}=y({first_name:s.first_name||"",middle_name:s.middle_name||"",last_name:s.last_name||"",email:s.email||"",mobile_number:s.mobile_number||"",shipping_address:s.shipping_address||"",username:s.username||""}),g=a=>{a.preventDefault(),N("/profile",{onSuccess:()=>{c(!1)}})},v=()=>{p(),c(!1)},m=a=>({super_admin:"Super Administrator",admin:"Administrator",vendor:"Vendor",veterinarian:"Veterinarian",customer:"Customer",rider:"Rider"})[a]||a,h=a=>({super_admin:"badge-danger",admin:"badge-primary",vendor:"badge-success",veterinarian:"badge-info",customer:"badge-secondary",rider:"badge-warning"})[a]||"badge-secondary";return e.jsxs(C,{auth:b,title:"My Profile",children:[(n==null?void 0:n.success)&&e.jsxs("div",{className:"alert alert-success alert-dismissible fade show",children:[e.jsx("button",{type:"button",className:"close","data-dismiss":"alert","aria-hidden":"true",children:"×"}),e.jsx("i",{className:"icon fas fa-check"})," ",n.success]}),r.error&&e.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",children:[e.jsx("button",{type:"button",className:"close","data-dismiss":"alert","aria-hidden":"true",children:"×"}),e.jsx("i",{className:"icon fas fa-ban"})," ",r.error]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"card card-primary card-outline",children:e.jsxs("div",{className:"card-body box-profile",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"profile-user-img img-fluid img-circle d-flex align-items-center justify-content-center",style:{width:"128px",height:"128px",margin:"0 auto",backgroundColor:"#007bff",color:"#fff",fontSize:"48px",fontWeight:"bold"},children:[((x=(o=s.first_name)==null?void 0:o.charAt(0))==null?void 0:x.toUpperCase())||"U",((u=(j=s.last_name)==null?void 0:j.charAt(0))==null?void 0:u.toUpperCase())||""]})}),e.jsxs("h3",{className:"profile-username text-center mt-3",children:[s.first_name," ",s.middle_name," ",s.last_name]}),e.jsx("p",{className:"text-muted text-center",children:e.jsx("span",{className:`badge ${h(s.user_type)}`,children:m(s.user_type)})}),e.jsxs("ul",{className:"list-group list-group-unbordered mb-3",children:[e.jsxs("li",{className:"list-group-item",children:[e.jsxs("b",{children:[e.jsx("i",{className:"fas fa-envelope mr-2"})," Email"]}),e.jsx("span",{className:"float-right text-muted",children:s.email})]}),e.jsxs("li",{className:"list-group-item",children:[e.jsxs("b",{children:[e.jsx("i",{className:"fas fa-user mr-2"})," Username"]}),e.jsx("span",{className:"float-right text-muted",children:s.username||"Not set"})]}),e.jsxs("li",{className:"list-group-item",children:[e.jsxs("b",{children:[e.jsx("i",{className:"fas fa-calendar mr-2"})," Member Since"]}),e.jsx("span",{className:"float-right text-muted",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("li",{className:"list-group-item",children:[e.jsxs("b",{children:[e.jsx("i",{className:"fas fa-check-circle mr-2"})," Status"]}),e.jsx("span",{className:"float-right",children:e.jsx("span",{className:`badge ${s.status==="active"?"badge-success":"badge-danger"}`,children:s.status==="active"?"Active":"Inactive"})})]})]}),!d&&e.jsxs("button",{className:"btn btn-primary btn-block",onClick:()=>c(!0),children:[e.jsx("i",{className:"fas fa-edit mr-2"})," Edit Profile"]})]})})}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h3",{className:"card-title pt-1",children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-edit mr-2"})," Edit Profile"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-user mr-2"})," Profile Details"]})})}),e.jsx("div",{className:"card-body",children:d?e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"first_name",children:["First Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${r.first_name?"is-invalid":""}`,id:"first_name",value:i.first_name,onChange:a=>l("first_name",a.target.value),placeholder:"Enter first name"}),r.first_name&&e.jsx("span",{className:"invalid-feedback",children:r.first_name})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"middle_name",children:"Middle Name"}),e.jsx("input",{type:"text",className:`form-control ${r.middle_name?"is-invalid":""}`,id:"middle_name",value:i.middle_name,onChange:a=>l("middle_name",a.target.value),placeholder:"Enter middle name"}),r.middle_name&&e.jsx("span",{className:"invalid-feedback",children:r.middle_name})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"last_name",children:["Last Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${r.last_name?"is-invalid":""}`,id:"last_name",value:i.last_name,onChange:a=>l("last_name",a.target.value),placeholder:"Enter last name"}),r.last_name&&e.jsx("span",{className:"invalid-feedback",children:r.last_name})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"email",className:`form-control ${r.email?"is-invalid":""}`,id:"email",value:i.email,onChange:a=>l("email",a.target.value),placeholder:"Enter email"}),r.email&&e.jsx("span",{className:"invalid-feedback",children:r.email})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("input",{type:"text",className:`form-control ${r.username?"is-invalid":""}`,id:"username",value:i.username,onChange:a=>l("username",a.target.value),placeholder:"Enter username"}),r.username&&e.jsx("span",{className:"invalid-feedback",children:r.username})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"mobile_number",children:"Mobile Number"}),e.jsx("input",{type:"text",className:`form-control ${r.mobile_number?"is-invalid":""}`,id:"mobile_number",value:i.mobile_number,onChange:a=>l("mobile_number",a.target.value),placeholder:"Enter mobile number"}),r.mobile_number&&e.jsx("span",{className:"invalid-feedback",children:r.mobile_number})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"shipping_address",children:"Shipping Address"}),e.jsx(S,{id:"shipping_address",value:i.shipping_address,onChange:a=>l("shipping_address",a),onPlaceSelect:a=>l("shipping_address",a.address),placeholder:"Enter shipping address",error:r.shipping_address,inputComponent:"textarea",rows:2})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-2",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save mr-2"})," Save Changes"]})}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:v,disabled:t,children:[e.jsx("i",{className:"fas fa-times mr-2"})," Cancel"]})]})]}):e.jsx("div",{className:"table-responsive",children:e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("th",{style:{width:"200px"},children:[e.jsx("i",{className:"fas fa-user mr-2"})," Full Name"]}),e.jsxs("td",{children:[s.first_name," ",s.middle_name," ",s.last_name]})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-envelope mr-2"})," Email"]}),e.jsx("td",{children:s.email})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-at mr-2"})," Username"]}),e.jsx("td",{children:s.username||e.jsx("span",{className:"text-muted",children:"Not set"})})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-phone mr-2"})," Mobile Number"]}),e.jsx("td",{children:s.mobile_number||e.jsx("span",{className:"text-muted",children:"Not set"})})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-2"})," Shipping Address"]}),e.jsx("td",{children:s.shipping_address||e.jsx("span",{className:"text-muted",children:"Not set"})})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-user-tag mr-2"})," Account Type"]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${h(s.user_type)}`,children:m(s.user_type)})})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-check-circle mr-2"})," Account Status"]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.status==="active"?"badge-success":"badge-danger"}`,children:s.status==="active"?"Active":"Inactive"})})]}),e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2"})," Member Since"]}),e.jsx("td",{children:new Date(s.created_at).toLocaleString()})]})]})})})})]})})]})]})}export{F as default};
