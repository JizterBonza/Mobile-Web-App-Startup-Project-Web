import{r as d,u as T,j as e,a as C}from"./app-BOLgj3qB.js";import{A as G}from"./AdminLayout-CG6SnJGX.js";function W({auth:U,promotions:c=[],products:D=[],promotionTypes:g={},shop:Q,agrivet:Y,flash:i}){const[N,k]=d.useState(!1),[w,x]=d.useState(!1),[b,$]=d.useState(!1),[S,h]=d.useState(!1),[_,P]=d.useState(!1),[q,p]=d.useState(!1),[j,E]=d.useState(null),[o,A]=d.useState(null),a=T({name:"",description:"",type:"percentage_off",discount_value:"",buy_quantity:"",get_quantity:"",minimum_order_amount:"",maximum_discount:"",applicable_items:[],bundle_items:[],bundle_price:"",start_date:"",end_date:"",usage_limit:"",per_customer_limit:"",promo_code:"",status:"active"}),t=T({name:"",description:"",type:"percentage_off",discount_value:"",buy_quantity:"",get_quantity:"",minimum_order_amount:"",maximum_discount:"",applicable_items:[],bundle_items:[],bundle_price:"",start_date:"",end_date:"",usage_limit:"",per_customer_limit:"",promo_code:"",status:"active"});d.useEffect(()=>{N?setTimeout(()=>x(!0),10):x(!1)},[N]),d.useEffect(()=>{b?setTimeout(()=>h(!0),10):h(!1)},[b]),d.useEffect(()=>{_?setTimeout(()=>p(!0),10):p(!1)},[_]);const v=()=>{x(!1),setTimeout(()=>{k(!1),a.reset()},300)},m=()=>{h(!1),setTimeout(()=>{$(!1),E(null),t.reset()},300)},u=()=>{p(!1),setTimeout(()=>{P(!1),A(null)},300)};d.useEffect(()=>{i!=null&&i.success&&(v(),m(),u(),a.reset(),t.reset())},[i]);const I=s=>{s.preventDefault(),a.post("/dashboard/vendor/promotions",{preserveScroll:!0,onSuccess:()=>{a.reset()}})},O=s=>{E(s);const n=r=>r?new Date(r).toISOString().slice(0,16):"";t.setData({name:s.name||"",description:s.description||"",type:s.type||"percentage_off",discount_value:s.discount_value||"",buy_quantity:s.buy_quantity||"",get_quantity:s.get_quantity||"",minimum_order_amount:s.minimum_order_amount||"",maximum_discount:s.maximum_discount||"",applicable_items:s.applicable_items||[],bundle_items:s.bundle_items||[],bundle_price:s.bundle_price||"",start_date:n(s.start_date),end_date:n(s.end_date),usage_limit:s.usage_limit||"",per_customer_limit:s.per_customer_limit||"",promo_code:s.promo_code||"",status:s.status||"active"}),$(!0),h(!1)},L=s=>{s.preventDefault(),j&&t.put(`/dashboard/vendor/promotions/${j.id}`,{preserveScroll:!0,onSuccess:()=>{m()}})},B=s=>{A(s),P(!0),p(!1)},R=()=>{o&&C.delete(`/dashboard/vendor/promotions/${o.id}`,{preserveScroll:!0,onSuccess:()=>{u()}})},V=s=>{const r={active:"success",inactive:"secondary",expired:"danger",scheduled:"info"}[s]||"secondary";return e.jsx("span",{className:`badge badge-${r}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},H=s=>{const r={percentage_off:"primary",fixed_amount_off:"info",buy_x_get_y:"warning",bundle:"success",free_shipping:"dark"}[s]||"secondary";return e.jsx("span",{className:`badge badge-${r}`,children:g[s]||s})},z=s=>{switch(s.type){case"percentage_off":return`${s.discount_value}% OFF`;case"fixed_amount_off":return`$${parseFloat(s.discount_value).toFixed(2)} OFF`;case"buy_x_get_y":return`Buy ${s.buy_quantity} Get ${s.get_quantity} FREE`;case"bundle":return`Bundle: $${parseFloat(s.bundle_price).toFixed(2)}`;case"free_shipping":return"FREE Shipping";default:return"-"}},F=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",M=(s,n=!1)=>{const r=s.data.type;return e.jsxs(e.Fragment,{children:[(r==="percentage_off"||r==="fixed_amount_off")&&e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[r==="percentage_off"?"Discount Percentage":"Discount Amount"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[r==="fixed_amount_off"&&e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:"$"})}),e.jsx("input",{type:"number",step:r==="percentage_off"?"1":"0.01",min:"0",max:r==="percentage_off"?"100":void 0,className:`form-control ${s.errors.discount_value?"is-invalid":""}`,value:s.data.discount_value,onChange:l=>s.setData("discount_value",l.target.value),required:!0}),r==="percentage_off"&&e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:"%"})})]}),s.errors.discount_value&&e.jsx("div",{className:"invalid-feedback d-block",children:s.errors.discount_value})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Discount (Optional)"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:"$"})}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:`form-control ${s.errors.maximum_discount?"is-invalid":""}`,value:s.data.maximum_discount,onChange:l=>s.setData("maximum_discount",l.target.value),placeholder:"No limit"})]}),s.errors.maximum_discount&&e.jsx("div",{className:"invalid-feedback d-block",children:s.errors.maximum_discount})]})})]}),r==="buy_x_get_y"&&e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Buy Quantity ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",min:"1",className:`form-control ${s.errors.buy_quantity?"is-invalid":""}`,value:s.data.buy_quantity,onChange:l=>s.setData("buy_quantity",l.target.value),placeholder:"e.g., 1",required:!0}),s.errors.buy_quantity&&e.jsx("div",{className:"invalid-feedback",children:s.errors.buy_quantity})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Get Quantity (FREE) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",min:"1",className:`form-control ${s.errors.get_quantity?"is-invalid":""}`,value:s.data.get_quantity,onChange:l=>s.setData("get_quantity",l.target.value),placeholder:"e.g., 1",required:!0}),s.errors.get_quantity&&e.jsx("div",{className:"invalid-feedback",children:s.errors.get_quantity})]})})]}),r==="bundle"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Bundle Products ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("select",{multiple:!0,className:`form-control ${s.errors.bundle_items?"is-invalid":""}`,value:s.data.bundle_items.map(String),onChange:l=>{const f=Array.from(l.target.selectedOptions,y=>parseInt(y.value));s.setData("bundle_items",f)},style:{height:"150px"},children:D.map(l=>e.jsxs("option",{value:l.id,children:[l.item_name," - $",parseFloat(l.item_price).toFixed(2)]},l.id))}),e.jsx("small",{className:"form-text text-muted",children:"Hold Ctrl/Cmd to select multiple products"}),s.errors.bundle_items&&e.jsx("div",{className:"invalid-feedback",children:s.errors.bundle_items})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Bundle Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:"$"})}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:`form-control ${s.errors.bundle_price?"is-invalid":""}`,value:s.data.bundle_price,onChange:l=>s.setData("bundle_price",l.target.value),required:!0})]}),s.errors.bundle_price&&e.jsx("div",{className:"invalid-feedback d-block",children:s.errors.bundle_price})]})]}),r!=="bundle"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Order Amount (Optional)"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:"$"})}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:`form-control ${s.errors.minimum_order_amount?"is-invalid":""}`,value:s.data.minimum_order_amount,onChange:l=>s.setData("minimum_order_amount",l.target.value),placeholder:"No minimum"})]}),s.errors.minimum_order_amount&&e.jsx("div",{className:"invalid-feedback d-block",children:s.errors.minimum_order_amount})]}),r!=="bundle"&&r!=="free_shipping"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Applicable Products (Optional)"}),e.jsx("select",{multiple:!0,className:`form-control ${s.errors.applicable_items?"is-invalid":""}`,value:s.data.applicable_items.map(String),onChange:l=>{const f=Array.from(l.target.selectedOptions,y=>parseInt(y.value));s.setData("applicable_items",f)},style:{height:"120px"},children:D.map(l=>e.jsx("option",{value:l.id,children:l.item_name},l.id))}),e.jsx("small",{className:"form-text text-muted",children:"Leave empty to apply to all products. Hold Ctrl/Cmd to select multiple."}),s.errors.applicable_items&&e.jsx("div",{className:"invalid-feedback",children:s.errors.applicable_items})]})]})};return e.jsxs(G,{auth:U,title:"Promotions",children:[(i==null?void 0:i.success)&&e.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[e.jsx("strong",{children:"Success!"})," ",i.success,e.jsx("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:s=>{s.preventDefault(),C.visit(window.location.pathname,{preserveState:!0,preserveScroll:!0})},children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),(i==null?void 0:i.error)&&e.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e.jsx("strong",{children:"Error!"})," ",i.error,e.jsx("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:s=>{s.preventDefault(),C.visit(window.location.pathname,{preserveState:!0,preserveScroll:!0})},children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-lg-3 col-6",children:e.jsxs("div",{className:"small-box bg-info",children:[e.jsxs("div",{className:"inner",children:[e.jsx("h3",{children:c.length}),e.jsx("p",{children:"Total Promotions"})]}),e.jsx("div",{className:"icon",children:e.jsx("i",{className:"fas fa-tags"})})]})}),e.jsx("div",{className:"col-lg-3 col-6",children:e.jsxs("div",{className:"small-box bg-success",children:[e.jsxs("div",{className:"inner",children:[e.jsx("h3",{children:c.filter(s=>s.status==="active").length}),e.jsx("p",{children:"Active Promotions"})]}),e.jsx("div",{className:"icon",children:e.jsx("i",{className:"fas fa-check-circle"})})]})}),e.jsx("div",{className:"col-lg-3 col-6",children:e.jsxs("div",{className:"small-box bg-warning",children:[e.jsxs("div",{className:"inner",children:[e.jsx("h3",{children:c.filter(s=>s.status==="scheduled").length}),e.jsx("p",{children:"Scheduled"})]}),e.jsx("div",{className:"icon",children:e.jsx("i",{className:"fas fa-clock"})})]})}),e.jsx("div",{className:"col-lg-3 col-6",children:e.jsxs("div",{className:"small-box bg-danger",children:[e.jsxs("div",{className:"inner",children:[e.jsx("h3",{children:c.filter(s=>s.status==="expired").length}),e.jsx("p",{children:"Expired"})]}),e.jsx("div",{className:"icon",children:e.jsx("i",{className:"fas fa-times-circle"})})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Promotions List"}),e.jsx("div",{className:"card-tools",children:e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>{k(!0),x(!1)},children:[e.jsx("i",{className:"fas fa-plus"})," Create Promotion"]})})]}),e.jsx("div",{className:"card-body table-responsive p-0",children:e.jsxs("table",{className:"table table-hover text-nowrap",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Value"}),e.jsx("th",{children:"Promo Code"}),e.jsx("th",{children:"Valid Period"}),e.jsx("th",{children:"Usage"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-4",children:e.jsxs("div",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-tags fa-3x mb-3"}),e.jsx("p",{children:"No promotions found. Create your first promotion!"})]})})}):c.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.id}),e.jsxs("td",{children:[e.jsx("strong",{children:s.name}),s.description&&e.jsxs("small",{className:"d-block text-muted",children:[s.description.substring(0,50),s.description.length>50?"...":""]})]}),e.jsx("td",{children:H(s.type)}),e.jsx("td",{children:z(s)}),e.jsx("td",{children:s.promo_code?e.jsx("code",{className:"bg-light p-1 rounded",children:s.promo_code}):e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{children:e.jsxs("small",{children:[F(s.start_date)," - ",F(s.end_date)]})}),e.jsxs("td",{children:[s.usage_count,"/",s.usage_limit||"∞"]}),e.jsx("td",{children:V(s.status)}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-sm btn-info mr-1",onClick:()=>O(s),title:"Edit Promotion",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>B(s),title:"Delete Promotion",children:e.jsx("i",{className:"fas fa-trash"})})]})]},s.id))})]})})]})})}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`modal-backdrop fade ${w?"show":""}`,onClick:v}),e.jsx("div",{className:`modal fade ${w?"show":""} d-block`,tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header bg-primary text-white",children:[e.jsxs("h4",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Create New Promotion"]}),e.jsx("button",{type:"button",className:"close text-white",onClick:v,children:e.jsx("span",{children:"×"})})]}),e.jsxs("form",{onSubmit:I,children:[e.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Promotion Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${a.errors.name?"is-invalid":""}`,value:a.data.name,onChange:s=>a.setData("name",s.target.value),placeholder:"e.g., Summer Sale 20% Off",required:!0}),a.errors.name&&e.jsx("div",{className:"invalid-feedback",children:a.errors.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{className:`form-control ${a.errors.description?"is-invalid":""}`,value:a.data.description,onChange:s=>a.setData("description",s.target.value),rows:"2",placeholder:"Describe your promotion..."}),a.errors.description&&e.jsx("div",{className:"invalid-feedback",children:a.errors.description})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Promotion Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("select",{className:`form-control ${a.errors.type?"is-invalid":""}`,value:a.data.type,onChange:s=>a.setData("type",s.target.value),required:!0,children:Object.entries(g).map(([s,n])=>e.jsx("option",{value:s,children:n},s))}),a.errors.type&&e.jsx("div",{className:"invalid-feedback",children:a.errors.type})]}),M(a),e.jsx("hr",{}),e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2"}),"Validity Period"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Start Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"datetime-local",className:`form-control ${a.errors.start_date?"is-invalid":""}`,value:a.data.start_date,onChange:s=>a.setData("start_date",s.target.value),required:!0}),a.errors.start_date&&e.jsx("div",{className:"invalid-feedback",children:a.errors.start_date})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["End Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"datetime-local",className:`form-control ${a.errors.end_date?"is-invalid":""}`,value:a.data.end_date,onChange:s=>a.setData("end_date",s.target.value),required:!0}),a.errors.end_date&&e.jsx("div",{className:"invalid-feedback",children:a.errors.end_date})]})})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-cog mr-2"}),"Usage Limits & Promo Code"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Usage Limit"}),e.jsx("input",{type:"number",min:"1",className:`form-control ${a.errors.usage_limit?"is-invalid":""}`,value:a.data.usage_limit,onChange:s=>a.setData("usage_limit",s.target.value),placeholder:"Unlimited"}),a.errors.usage_limit&&e.jsx("div",{className:"invalid-feedback",children:a.errors.usage_limit})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Per Customer Limit"}),e.jsx("input",{type:"number",min:"1",className:`form-control ${a.errors.per_customer_limit?"is-invalid":""}`,value:a.data.per_customer_limit,onChange:s=>a.setData("per_customer_limit",s.target.value),placeholder:"Unlimited"}),a.errors.per_customer_limit&&e.jsx("div",{className:"invalid-feedback",children:a.errors.per_customer_limit})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Promo Code (Optional)"}),e.jsx("input",{type:"text",className:`form-control ${a.errors.promo_code?"is-invalid":""}`,value:a.data.promo_code,onChange:s=>a.setData("promo_code",s.target.value.toUpperCase()),placeholder:"e.g., SUMMER20",style:{textTransform:"uppercase"}}),a.errors.promo_code&&e.jsx("div",{className:"invalid-feedback",children:a.errors.promo_code})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{className:`form-control ${a.errors.status?"is-invalid":""}`,value:a.data.status,onChange:s=>a.setData("status",s.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"scheduled",children:"Scheduled"})]}),a.errors.status&&e.jsx("div",{className:"invalid-feedback",children:a.errors.status})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:v,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.processing,children:a.processing?"Creating...":"Create Promotion"})]})]})]})})})]}),b&&j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`modal-backdrop fade ${S?"show":""}`,onClick:m}),e.jsx("div",{className:`modal fade ${S?"show":""} d-block`,tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header bg-info text-white",children:[e.jsxs("h4",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-edit mr-2"}),"Edit Promotion"]}),e.jsx("button",{type:"button",className:"close text-white",onClick:m,children:e.jsx("span",{children:"×"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Promotion Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${t.errors.name?"is-invalid":""}`,value:t.data.name,onChange:s=>t.setData("name",s.target.value),required:!0}),t.errors.name&&e.jsx("div",{className:"invalid-feedback",children:t.errors.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{className:`form-control ${t.errors.description?"is-invalid":""}`,value:t.data.description,onChange:s=>t.setData("description",s.target.value),rows:"2"}),t.errors.description&&e.jsx("div",{className:"invalid-feedback",children:t.errors.description})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Promotion Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("select",{className:`form-control ${t.errors.type?"is-invalid":""}`,value:t.data.type,onChange:s=>t.setData("type",s.target.value),required:!0,children:Object.entries(g).map(([s,n])=>e.jsx("option",{value:s,children:n},s))}),t.errors.type&&e.jsx("div",{className:"invalid-feedback",children:t.errors.type})]}),M(t,!0),e.jsx("hr",{}),e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2"}),"Validity Period"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Start Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"datetime-local",className:`form-control ${t.errors.start_date?"is-invalid":""}`,value:t.data.start_date,onChange:s=>t.setData("start_date",s.target.value),required:!0}),t.errors.start_date&&e.jsx("div",{className:"invalid-feedback",children:t.errors.start_date})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["End Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"datetime-local",className:`form-control ${t.errors.end_date?"is-invalid":""}`,value:t.data.end_date,onChange:s=>t.setData("end_date",s.target.value),required:!0}),t.errors.end_date&&e.jsx("div",{className:"invalid-feedback",children:t.errors.end_date})]})})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-cog mr-2"}),"Usage Limits & Promo Code"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Usage Limit"}),e.jsx("input",{type:"number",min:"1",className:`form-control ${t.errors.usage_limit?"is-invalid":""}`,value:t.data.usage_limit,onChange:s=>t.setData("usage_limit",s.target.value),placeholder:"Unlimited"}),t.errors.usage_limit&&e.jsx("div",{className:"invalid-feedback",children:t.errors.usage_limit})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Per Customer Limit"}),e.jsx("input",{type:"number",min:"1",className:`form-control ${t.errors.per_customer_limit?"is-invalid":""}`,value:t.data.per_customer_limit,onChange:s=>t.setData("per_customer_limit",s.target.value),placeholder:"Unlimited"}),t.errors.per_customer_limit&&e.jsx("div",{className:"invalid-feedback",children:t.errors.per_customer_limit})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Promo Code"}),e.jsx("input",{type:"text",className:`form-control ${t.errors.promo_code?"is-invalid":""}`,value:t.data.promo_code,onChange:s=>t.setData("promo_code",s.target.value.toUpperCase()),style:{textTransform:"uppercase"}}),t.errors.promo_code&&e.jsx("div",{className:"invalid-feedback",children:t.errors.promo_code})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{className:`form-control ${t.errors.status?"is-invalid":""}`,value:t.data.status,onChange:s=>t.setData("status",s.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"expired",children:"Expired"})]}),t.errors.status&&e.jsx("div",{className:"invalid-feedback",children:t.errors.status})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"This promotion has been used ",e.jsx("strong",{children:j.usage_count})," time(s)."]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:m,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-info",disabled:t.processing,children:t.processing?"Updating...":"Update Promotion"})]})]})]})})})]}),_&&o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`modal-backdrop fade ${q?"show":""}`,onClick:u}),e.jsx("div",{className:`modal fade ${q?"show":""} d-block`,tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header bg-danger text-white",children:[e.jsxs("h4",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Confirm Delete"]}),e.jsx("button",{type:"button",className:"close text-white",onClick:u,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("p",{children:["Are you sure you want to delete the promotion ",e.jsxs("strong",{children:['"',o.name,'"']}),"?"]}),e.jsxs("div",{className:"alert alert-warning mb-0",children:[e.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),"This action cannot be undone. This promotion has been used ",o.usage_count," time(s)."]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:u,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:R,children:"Delete Promotion"})]})]})})})]})]})}export{W as default};
